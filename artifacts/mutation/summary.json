{
  "status": "pass",
  "startedAt": "2026-02-14T06:09:10.562Z",
  "generatedAt": "2026-02-14T06:09:15.383Z",
  "totalMutants": 3,
  "killedMutants": 3,
  "survivedMutants": 0,
  "mutationScore": 1,
  "threshold": 1,
  "passed": true,
  "mutants": [
    {
      "mutantId": "MUT-AW-ANY-ALL-INVERSION",
      "description": "ANY/ALL 分岐反転",
      "killed": true,
      "exitCode": 1,
      "durationMs": 1499,
      "command": "pnpm exec vitest run tests/acceptance/approval-engine.acceptance.test.ts -t AW-ACC-01",
      "stdoutTail": "RUN  v3.2.4 /home/devuser/work/CodeX/ae-framework_exp05/ae-framework-test-05-Approval-Workflow-Service\n\n ❯ tests/acceptance/approval-engine.acceptance.test.ts (7 tests | 1 failed | 6 skipped) 16ms\n   × Approval Workflow Acceptance > AW-ACC-01: ANY step simultaneous approvals complete step once without duplicate next-step tasks 14ms\n     → expected +0 to be 1 // Object.is equality\n   ↓ Approval Workflow Acceptance > AW-ACC-02: a single reject moves request to REJECTED and closes all pending tasks\n   ↓ Approval Workflow Acceptance > AW-ACC-03: submit/decide operations are rejected after terminal state\n   ↓ Approval Workflow Acceptance > AW-AUTH-002: task decision is denied for non-assignee\n   ↓ Approval Workflow Acceptance > AW-REQ-EDIT-01: request update is allowed in DRAFT and denied in IN_REVIEW\n   ↓ Approval Workflow Acceptance > AW-REQ-RETURN-01: RETURN moves request to RETURNED and resubmit regenerates first-step tasks\n   ↓ Approval Workflow Acceptance > AW-ACC-04: audit log keeps submit to final decision trace\n\n Test Files  1 failed (1)\n      Tests  1 failed | 6 skipped (7)\n   Start at  15:09:11\n   Duration  551ms (transform 106ms, setup 0ms, collect 114ms, tests 16ms, environment 0ms, prepare 140ms)",
      "stderrTail": "⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯\n\n FAIL  tests/acceptance/approval-engine.acceptance.test.ts > Approval Workflow Acceptance > AW-ACC-01: ANY step simultaneous approvals complete step once without duplicate next-step tasks\nAssertionError: expected +0 to be 1 // Object.is equality\n\n- Expected\n+ Received\n\n- 1\n+ 0\n\n ❯ tests/acceptance/approval-engine.acceptance.test.ts:82:27\n     80|     const settled = [r1, r2];\n     81|     const rejectedCount = settled.filter((item) => item.status === 're…\n     82|     expect(rejectedCount).toBe(1);\n       |                           ^\n     83| \n     84|     const updatedRequest = engine.getRequest(request.requestId, admin);\n\n⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯"
    },
    {
      "mutantId": "MUT-AW-TERMINAL-GUARD-DROP",
      "description": "終端状態ガードの欠落（decideTask）",
      "killed": true,
      "exitCode": 1,
      "durationMs": 1557,
      "command": "pnpm exec vitest run tests/acceptance/approval-engine.acceptance.test.ts -t AW-ACC-03",
      "stdoutTail": "RUN  v3.2.4 /home/devuser/work/CodeX/ae-framework_exp05/ae-framework-test-05-Approval-Workflow-Service\n\n ❯ tests/acceptance/approval-engine.acceptance.test.ts (7 tests | 1 failed | 6 skipped) 18ms\n   ↓ Approval Workflow Acceptance > AW-ACC-01: ANY step simultaneous approvals complete step once without duplicate next-step tasks\n   ↓ Approval Workflow Acceptance > AW-ACC-02: a single reject moves request to REJECTED and closes all pending tasks\n   × Approval Workflow Acceptance > AW-ACC-03: submit/decide operations are rejected after terminal state 16ms\n     → expected Error: task decision is not allowed in st… { …(2) } to match object { message: StringContaining{…} }\n(2 matching properties omitted from actual)\n   ↓ Approval Workflow Acceptance > AW-AUTH-002: task decision is denied for non-assignee\n   ↓ Approval Workflow Acceptance > AW-REQ-EDIT-01: request update is allowed in DRAFT and denied in IN_REVIEW\n   ↓ Approval Workflow Acceptance > AW-REQ-RETURN-01: RETURN moves request to RETURNED and resubmit regenerates first-step tasks\n   ↓ Approval Workflow Acceptance > AW-ACC-04: audit log keeps submit to final decision trace\n\n Test Files  1 failed (1)\n      Tests  1 failed | 6 skipped (7)\n   Start at  15:09:12\n   Duration  587ms (transform 119ms, setup 0ms, collect 116ms, tests 18ms, environment 0ms, prepare 166ms)",
      "stderrTail": "⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯\n\n FAIL  tests/acceptance/approval-engine.acceptance.test.ts > Approval Workflow Acceptance > AW-ACC-03: submit/decide operations are rejected after terminal state\nAssertionError: expected Error: task decision is not allowed in st… { …(2) } to match object { message: StringContaining{…} }\n(2 matching properties omitted from actual)\n\n- Expected\n+ Received\n\n- {\n-   \"message\": StringContaining \"request is terminal\",\n+ ConflictError {\n+   \"message\": \"task decision is not allowed in status: APPROVED\",\n+   \"code\": \"CONFLICT\",\n+   \"statusCode\": 409,\n  }\n\n ❯ tests/acceptance/approval-engine.acceptance.test.ts:183:5\n    181|       message: expect.stringContaining('request is terminal')\n    182|     });\n    183|     await expect(engine.decideTask(task!.taskId, approver, 'APPROVE', …\n       |     ^\n    184|       message: expect.stringContaining('request is terminal')\n    185|     });\n\n⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯"
    },
    {
      "mutantId": "MUT-AW-ASSIGNEE-GUARD-DROP",
      "description": "assignee チェック欠落",
      "killed": true,
      "exitCode": 1,
      "durationMs": 1762,
      "command": "pnpm exec vitest run tests/acceptance/approval-engine.acceptance.test.ts -t AW-AUTH-002",
      "stdoutTail": "RUN  v3.2.4 /home/devuser/work/CodeX/ae-framework_exp05/ae-framework-test-05-Approval-Workflow-Service\n\n ❯ tests/acceptance/approval-engine.acceptance.test.ts (7 tests | 1 failed | 6 skipped) 29ms\n   ↓ Approval Workflow Acceptance > AW-ACC-01: ANY step simultaneous approvals complete step once without duplicate next-step tasks\n   ↓ Approval Workflow Acceptance > AW-ACC-02: a single reject moves request to REJECTED and closes all pending tasks\n   ↓ Approval Workflow Acceptance > AW-ACC-03: submit/decide operations are rejected after terminal state\n   × Approval Workflow Acceptance > AW-AUTH-002: task decision is denied for non-assignee 28ms\n     → promise resolved \"{ request: { …(16) }, task: { …(11) } }\" instead of rejecting\n   ↓ Approval Workflow Acceptance > AW-REQ-EDIT-01: request update is allowed in DRAFT and denied in IN_REVIEW\n   ↓ Approval Workflow Acceptance > AW-REQ-RETURN-01: RETURN moves request to RETURNED and resubmit regenerates first-step tasks\n   ↓ Approval Workflow Acceptance > AW-ACC-04: audit log keeps submit to final decision trace\n\n Test Files  1 failed (1)\n      Tests  1 failed | 6 skipped (7)\n   Start at  15:09:14\n   Duration  624ms (transform 144ms, setup 0ms, collect 138ms, tests 29ms, environment 0ms, prepare 167ms)",
      "stderrTail": "+     \"title\": \"Auth Guard\",\n+     \"type\": \"GENERIC\",\n+     \"updatedAt\": \"2026-02-14T06:09:15.122Z\",\n+     \"workflowId\": \"wf-auth\",\n+     \"workflowVersion\": 1,\n+   },\n+   \"task\": {\n+     \"assigneeUserId\": \"approver-01\",\n+     \"createdAt\": \"2026-02-14T06:09:15.119Z\",\n+     \"decidedAt\": \"2026-02-14T06:09:15.121Z\",\n+     \"decisionComment\": \"hijack\",\n+     \"requestId\": \"req_accb5b3c-0bb6-4a1b-9057-e469eeab3518\",\n+     \"status\": \"APPROVED\",\n+     \"stepId\": \"step-1\",\n+     \"stepIndex\": 0,\n+     \"taskId\": \"task_f919408a-be72-40de-afa7-3d10a3ed9adb\",\n+     \"tenantId\": \"tenant-acme\",\n+     \"updatedAt\": \"2026-02-14T06:09:15.121Z\",\n+   },\n  }\n\n ❯ tests/acceptance/approval-engine.acceptance.test.ts:214:80\n    212| \n    213|     const task = engine.listTasks(admin, { requestId: request.requestI…\n    214|     await expect(engine.decideTask(task!.taskId, intruder, 'APPROVE', …\n       |                                                                                ^\n    215|       ForbiddenError\n    216|     );\n\n⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯"
    }
  ]
}